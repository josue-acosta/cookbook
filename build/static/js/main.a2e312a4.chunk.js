(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{175:function(t,e,c){"use strict";c.r(e);var n=c(2),a=c(0),r=c.n(a),i=c(24),o=c.n(i),s=(c(83),c(38)),u=c(4),h=c(17),l=c.p+"static/media/logo.103b5fa1.svg";c(49);var j=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)("header",{className:"App-header",children:[Object(n.jsx)("strong",{children:"PUBLIC"}),Object(n.jsx)("img",{src:l,className:"App-logo",alt:"logo"}),Object(n.jsx)("p",{children:"Welcome to the Home page"})]})})},p=c(15),d=c.n(p),b=c(26),O=c(71),f=c(27),m=c(73),x=c(72),g=c(197),v=function(t){Object(m.a)(c,t);var e=Object(x.a)(c);function c(){var t;Object(O.a)(this,c);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={authenticated:null},t.checkAuthentication=Object(b.a)(d.a.mark((function e(){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.props.authState.isAuthenticated;case 2:(c=e.sent)!==t.state.authenticated&&t.setState({authenticated:c});case 4:case"end":return e.stop()}}),e)}))),t.componentDidMount=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.checkAuthentication();case 1:case"end":return e.stop()}}),e)}))),t.login=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.props.authService.login("/home");case 1:case"end":return e.stop()}}),e)}))),t}return Object(f.a)(c,[{key:"render",value:function(){return this.state.authenticated?Object(n.jsx)(u.c,{to:"/home"}):Object(n.jsx)("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(n.jsx)(g.a,{variant:"contained",color:"primary",onClick:this.login,children:"Login with Okta"})})}}]),c}(a.Component),k=Object(h.withOktaAuth)(v),w=c(42),A=c(194),y=c(198),C=c(195),S=c(196),N=Object(A.a)((function(t){return{root:{flexGrow:1},title:{flexGrow:1}}}));var I=function(){var t=N(),e=Object(a.useState)(0),c=Object(w.a)(e,2),r=c[0],i=c[1],o=Object(h.useOktaAuth)(),s=o.authService,u=(o.authState,function(){var t=Object(b.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s.logout("/");case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}());return Object(a.useEffect)((function(){fetch("/api/time").then((function(t){return t.json()})).then((function(t){i(t.time)}))}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:t.root,children:Object(n.jsx)(y.a,{position:"static",children:Object(n.jsxs)(C.a,{children:[Object(n.jsx)(S.a,{variant:"h6",className:t.title,children:"News"}),Object(n.jsx)(g.a,{color:"inherit",onClick:u,children:"Logout"})]})})}),Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)("header",{className:"App-header",children:[Object(n.jsx)("strong",{children:"PROTECTED"}),Object(n.jsx)("img",{src:l,className:"App-logo",alt:"logo"}),Object(n.jsxs)("p",{children:["It's' ",r,"."]})]})})]})};var L=function(){return Object(n.jsx)(s.BrowserRouter,{children:Object(n.jsx)(h.Security,{issuer:"https://dev-8580715.okta.com/oauth2/default",client_id:"0oaet93haDsYEzWIm5d5",redirect_uri:"https://react-flask-001.herokuapp.com/implicit/callback",scope:["openid","profile","email"],children:Object(n.jsxs)(u.g,{children:[Object(n.jsx)(u.d,{exact:!0,path:"/",component:k}),Object(n.jsx)(u.d,{path:"/implicit/callback",component:h.LoginCallback}),Object(n.jsx)(u.d,{path:"/home",component:j}),Object(n.jsx)(h.SecureRoute,{path:"/protected",component:I})]})})})},E=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,200)).then((function(e){var c=e.getCLS,n=e.getFID,a=e.getFCP,r=e.getLCP,i=e.getTTFB;c(t),n(t),a(t),r(t),i(t)}))};o.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(L,{})}),document.getElementById("root")),E()},49:function(t,e,c){},83:function(t,e,c){}},[[175,1,2]]]);
//# sourceMappingURL=main.a2e312a4.chunk.js.map